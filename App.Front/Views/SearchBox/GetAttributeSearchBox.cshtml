<!---GetAttributeSearchBox-->
@using App.Aplication
@model IEnumerable<App.Domain.Entities.Attribute.Attribute>
@{ var lstAttrIds = (List<int>)ViewBag.Attributes; }

@if (Model.IsAny())
{
    foreach (var item in Model)
    {
        <div class="layered_subtitle">@item.AttributeName</div>
        <div class="layered-content filter-color conten-attr">
            @if (item.AttributeValues.IsAny())
            {
                <div class="attr-items">
                    @foreach (var at in item.AttributeValues.OrderByDescending(x => x.OrderDisplay))
                    {
                        if (!string.IsNullOrEmpty(at.ColorHex))
                        {
                            if (lstAttrIds.Exists(x => x == at.Id))
                            {
                                <div id="color_item" class="item active">
                                    <div class="select-item">
                                        <label>
                                            <input id="@at.Id" type="checkbox" name="attr" value="@at.Id" checked="checked" />
                                            <span class="bg" style="background-color: @at.ColorHex"></span>
                                            <span class="hidden">@at.ValueName</span>
                                        </label>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div id="color_item" class="item">
                                    <div class="select-item">
                                        <label>
                                            <input id="@at.Id" type="checkbox" name="attr" value="@at.Id" />
                                            <span class="bg" style="background-color: @at.ColorHex"></span>
                                            <span class="hidden">@at.ValueName</span>
                                        </label>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            if (lstAttrIds.Exists(x => x == at.Id))
                            {
                                <div class="item active">
                                    <div class="select-item size active">
                                        <label>
                                            <input id="@at.Id" type="checkbox" name="attr" value="@at.Id" checked="checked" />
                                            <span>@at.ValueName</span>
                                        </label>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="item">
                                    <div class="select-item size">
                                        <label>
                                            <input id="@at.Id" type="checkbox" name="attr" value="@at.Id" />
                                            <span>@at.ValueName</span>
                                        </label>
                                    </div>
                                </div>
                            }
                        }
                    }
                </div>
            }
        </div>

    }
}
<!---/GetAttributeSearchBox-->
